{
  "summary": "Este plano prop√µe a moderniza√ß√£o do portf√≥lio mantendo a identidade visual e funcionalidades existentes, mas elevando a qualidade t√©cnica atrav√©s de melhorias arquiteturais, padr√µes de c√≥digo mais robustos, otimiza√ß√µes de performance e uma stack tecnol√≥gica atualizada. O projeto atual j√° possui uma base s√≥lida com React 19, TypeScript, Vite e estrutura modular, mas pode se beneficiar de melhorias em gerenciamento de estado, testes, acessibilidade, SEO e CI/CD. A estrat√©gia de migra√ß√£o ser√° incremental, permitindo deploy cont√≠nuo sem downtime.",
  "current_evaluation": {
    "problems": [
      "Gerenciamento de estado fragmentado: uso misto de Context API e useState local sem padr√£o claro",
      "Falta de testes E2E: apenas testes unit√°rios b√°sicos com Vitest",
      "Formul√°rio de contato sem integra√ß√£o real: apenas simula√ß√£o de envio",
      "SEO limitado: falta de meta tags din√¢micas, sitemap e structured data",
      "Acessibilidade incompleta: falta de ARIA labels, navega√ß√£o por teclado e contraste adequado",
      "Performance: imagens n√£o otimizadas (sem lazy loading avan√ßado, WebP, ou CDN)",
      "CI/CD ausente: n√£o h√° pipeline automatizado de deploy",
      "PWA n√£o implementado: falta service worker e manifest.json",
      "Falta de monitoramento: sem analytics ou error tracking",
      "Depend√™ncias desatualizadas: algumas libs podem ter vers√µes mais recentes est√°veis"
    ],
    "strengths": [
      "Arquitetura modular bem organizada: separa√ß√£o clara entre components, hooks, data e types",
      "TypeScript bem implementado: tipagem consistente em toda aplica√ß√£o",
      "Estrutura de pastas escal√°vel: f√°cil adicionar novas se√ß√µes e componentes",
      "Lazy loading implementado: componentes carregados sob demanda",
      "Sistema de estilos organizado: Tailwind + CSS customizado bem estruturado",
      "Hooks personalizados reutiliz√°veis: boa separa√ß√£o de l√≥gica de neg√≥cio",
      "Anima√ß√µes perform√°ticas: uso adequado de GSAP",
      "Responsividade: design adapt√°vel a diferentes dispositivos",
      "Tema escuro/claro: sistema de temas funcional",
      "C√≥digo limpo: componentes pequenos e focados (SRP respeitado)"
    ]
  },
  "decision_logic": {
    "criteria": [
      {
        "name": "Manutenibilidade",
        "weight": 0.25,
        "explanation": "Prioridade m√°xima: c√≥digo deve ser f√°cil de entender e modificar por qualquer desenvolvedor"
      },
      {
        "name": "Performance",
        "weight": 0.20,
        "explanation": "Cr√≠tico para portf√≥lio: tempo de carregamento e interatividade impactam primeira impress√£o"
      },
      {
        "name": "Escalabilidade",
        "weight": 0.15,
        "explanation": "Arquitetura deve suportar crescimento futuro sem refatora√ß√µes massivas"
      },
      {
        "name": "Developer Experience",
        "weight": 0.15,
        "explanation": "Ferramentas e padr√µes que aceleram desenvolvimento e reduzem bugs"
      },
      {
        "name": "Acessibilidade",
        "weight": 0.10,
        "explanation": "WCAG 2.1 AA m√≠nimo: inclus√£o e compliance legal"
      },
      {
        "name": "SEO",
        "weight": 0.10,
        "explanation": "Visibilidade em mecanismos de busca √© essencial para portf√≥lio"
      },
      {
        "name": "Custo",
        "weight": 0.05,
        "explanation": "Solu√ß√µes devem ser economicamente vi√°veis (preferir op√ß√µes gratuitas/tier free)"
      }
    ],
    "weights": {
      "manutenibilidade": 0.25,
      "performance": 0.20,
      "escalabilidade": 0.15,
      "developer_experience": 0.15,
      "acessibilidade": 0.10,
      "seo": 0.10,
      "custo": 0.05
    }
  },
  "recommended_stack": {
    "frontend": {
      "primary": {
        "framework": "React 19.1.0",
        "build_tool": "Vite 5.4.0",
        "styling": "Tailwind CSS 3.4.0 + CSS Modules para componentes complexos",
        "state_management": "Zustand 4.5.0 (leve) + React Query 5.0.0 (server state)",
        "routing": "React Router DOM 6.22.0",
        "animations": "GSAP 3.12.5 + Framer Motion 11.0.0 (alternativa leve)",
        "forms": "React Hook Form 7.51.0 + Zod 3.23.0 (valida√ß√£o)",
        "justification": "React 19 mant√©m compatibilidade e traz melhorias de performance. Vite continua sendo a melhor op√ß√£o para build r√°pido. Zustand √© mais simples que Redux e suficiente para estado global. React Query gerencia cache e sincroniza√ß√£o de dados do servidor. React Hook Form reduz re-renders e melhora performance de formul√°rios."
      },
      "alternatives": [
        {
          "option": "Remix 2.0.0",
          "pros": ["SSR nativo", "melhor SEO", "data loading integrado"],
          "cons": ["Curva de aprendizado", "ecossistema menor", "migra√ß√£o mais complexa"],
          "when_to_consider": "Se SEO for prioridade absoluta e houver necessidade de SSR"
        },
        {
          "option": "Next.js 14.2.0",
          "pros": ["SSR/SSG", "Image optimization nativa", "ecossistema maduro"],
          "cons": ["Mais pesado", "configura√ß√£o mais complexa", "overhead desnecess√°rio para SPA"],
          "when_to_consider": "Se precisar de SSR ou SSG para melhor SEO"
        }
      ]
    },
    "backend": {
      "primary": {
        "option": "Serverless Functions (Vercel/Netlify Functions)",
        "runtime": "Node.js 20.x",
        "framework": "Sem framework (vanilla) ou Express.js 4.18.0",
        "justification": "Para portf√≥lio, serverless √© ideal: escala autom√°tica, sem servidor para gerenciar, custo zero at√© certo limite. Fun√ß√µes para formul√°rio de contato, analytics e webhooks."
      },
      "alternatives": [
        {
          "option": "Express.js + Railway/Render",
          "pros": ["Mais controle", "melhor para APIs complexas"],
          "cons": ["Custo mensal", "manuten√ß√£o de servidor", "overkill para portf√≥lio"],
          "when_to_consider": "Se precisar de APIs mais complexas ou integra√ß√µes pesadas"
        },
        {
          "option": "Supabase/Firebase",
          "pros": ["Backend completo", "banco de dados inclu√≠do", "autentica√ß√£o pronta"],
          "cons": ["Vendor lock-in", "custo pode crescer", "complexidade desnecess√°ria"],
          "when_to_consider": "Se precisar de banco de dados ou autentica√ß√£o de usu√°rios"
        }
      ]
    },
    "database": {
      "primary": {
        "option": "Sem banco de dados (dados est√°ticos)",
        "storage": "JSON files + Git",
        "justification": "Portf√≥lio n√£o precisa de banco: dados s√£o est√°ticos e mudam raramente. Usar arquivos JSON versionados no Git √© suficiente."
      },
      "alternatives": [
        {
          "option": "Contentful/Sanity CMS",
          "pros": ["Interface visual", "f√°cil atualiza√ß√£o", "API GraphQL"],
          "cons": ["Custo mensal", "depend√™ncia externa", "overkill para portf√≥lio simples"],
          "when_to_consider": "Se cliente precisar atualizar conte√∫do frequentemente sem conhecimento t√©cnico"
        },
        {
          "option": "GitHub API + Markdown",
          "pros": ["Gratuito", "versionamento nativo", "workflow familiar"],
          "cons": ["Requer conhecimento Git", "menos flex√≠vel"],
          "when_to_consider": "Se quiser integrar projetos do GitHub automaticamente"
        }
      ]
    },
    "hosting": {
      "primary": {
        "option": "Vercel",
        "justification": "Deploy autom√°tico do Git, CDN global, SSL gratuito, preview deployments, analytics integrado, serverless functions inclu√≠das. Plano free generoso."
      },
      "alternatives": [
        {
          "option": "Netlify",
          "pros": ["Similar ao Vercel", "form handling nativo", "split testing"],
          "cons": ["Build times mais lentos", "menos focado em Next.js"],
          "when_to_consider": "Se precisar de form handling sem c√≥digo backend"
        },
        {
          "option": "Cloudflare Pages",
          "pros": ["CDN r√°pido", "gratuito ilimitado", "workers integrados"],
          "cons": ["Menos features", "ecossistema menor"],
          "when_to_consider": "Se performance global for prioridade absoluta"
        }
      ]
    },
    "ci_cd": {
      "primary": {
        "option": "GitHub Actions",
        "workflow": "Lint ‚Üí Test ‚Üí Build ‚Üí Deploy",
        "justification": "Integrado ao GitHub, gratuito para reposit√≥rios p√∫blicos, f√°cil configura√ß√£o, grande ecossistema de actions."
      },
      "alternatives": [
        {
          "option": "Vercel/Netlify CI nativo",
          "pros": ["Zero configura√ß√£o", "otimizado para frontend"],
          "cons": ["Menos flex√≠vel", "vendor lock-in"],
          "when_to_consider": "Se quiser simplicidade m√°xima e n√£o precisar de CI customizado"
        }
      ]
    },
    "monitoring": {
      "primary": {
        "option": "Vercel Analytics + Sentry Free Tier",
        "justification": "Vercel Analytics para m√©tricas de performance e usu√°rio. Sentry para error tracking e performance monitoring."
      },
      "alternatives": [
        {
          "option": "Google Analytics 4",
          "pros": ["Gratuito", "familiar", "integra√ß√µes"],
          "cons": ["Privacy concerns", "mais pesado", "menos focado em performance"],
          "when_to_consider": "Se precisar de analytics detalhado de comportamento do usu√°rio"
        }
      ]
    }
  },
  "folder_structure": {
    "description": "Estrutura proposta mantendo organiza√ß√£o atual mas adicionando camadas de servi√ßos, testes e configura√ß√µes",
    "structure": {
      "root": [
        ".github/workflows/",
        ".vscode/",
        "public/",
        "src/",
        "docs/",
        "scripts/",
        "config files (package.json, tsconfig.json, etc.)"
      ],
      "src": {
        "components": {
          "atomic": "src/components/atoms/ (Button, Input, Icon)",
          "molecules": "src/components/molecules/ (FormField, Card, Modal)",
          "organisms": "src/components/organisms/ (ContactForm, ProjectCard, ResumeSection)",
          "templates": "src/components/templates/ (PageLayout, SectionLayout)",
          "sections": "src/components/sections/ (mant√©m estrutura atual)",
          "common": "src/components/common/ (mant√©m estrutura atual)",
          "layout": "src/components/layout/ (Header, Footer, Navigation)"
        },
        "features": "src/features/ (agrupa por dom√≠nio: contact/, portfolio/, resume/)",
        "hooks": "src/hooks/ (mant√©m estrutura atual)",
        "services": "src/services/ (API clients, external integrations)",
        "stores": "src/stores/ (Zustand stores)",
        "utils": "src/utils/ (helpers, validators, formatters)",
        "types": "src/types/ (mant√©m estrutura atual)",
        "constants": "src/constants/ (configura√ß√µes, enums)",
        "assets": "src/assets/ (images, fonts, icons)",
        "styles": "src/styles/ (mant√©m estrutura atual)",
        "pages": "src/pages/ (mant√©m estrutura atual)",
        "tests": "src/__tests__/ (mant√©m estrutura atual)",
        "e2e": "e2e/ (Playwright tests)"
      },
      "examples": {
        "component_atomic": "src/components/atoms/Button/Button.tsx, Button.test.tsx, Button.stories.tsx, index.ts",
        "component_molecule": "src/components/molecules/FormField/FormField.tsx, FormField.test.tsx, index.ts",
        "service": "src/services/contact/contactService.ts, contactService.test.ts",
        "store": "src/stores/useThemeStore.ts",
        "hook": "src/hooks/useContactForm.ts (mant√©m)",
        "page": "src/pages/Home.tsx (mant√©m)",
        "e2e": "e2e/contact.spec.ts"
      }
    }
  },
  "architecture_patterns": {
    "atomic_design": {
      "description": "Organiza√ß√£o de componentes em √°tomos, mol√©culas, organismos e templates",
      "mapping": {
        "atoms": "Button, Input, Icon, Badge ‚Üí componentes b√°sicos reutiliz√°veis",
        "molecules": "FormField (Input + Label + Error), ProjectCard (Image + Title + Tags) ‚Üí combina√ß√µes de √°tomos",
        "organisms": "ContactForm, PortfolioSection ‚Üí componentes complexos com l√≥gica",
        "templates": "PageLayout, SectionLayout ‚Üí estruturas de p√°gina"
      },
      "current_code": "ContactFormField pode virar mol√©cula, Button pode virar √°tomo"
    },
    "container_presenter": {
      "description": "Separa√ß√£o entre componentes de apresenta√ß√£o (dumb) e containers (smart)",
      "mapping": {
        "presenter": "Componentes em components/ que recebem props e n√£o t√™m l√≥gica",
        "container": "Hooks customizados (useContactForm) que gerenciam estado e l√≥gica",
        "current_code": "ContactForm j√° segue parcialmente: componente recebe dados do hook"
      }
    },
    "repository_pattern": {
      "description": "Abstra√ß√£o de acesso a dados atrav√©s de reposit√≥rios",
      "mapping": {
        "repository": "src/services/repositories/projectsRepository.ts, contactRepository.ts",
        "benefit": "Facilita migra√ß√£o futura para API real sem mudar componentes",
        "current_code": "data/projectsData.ts pode ser encapsulado em repository"
      }
    },
    "facade_pattern": {
      "description": "Interface simplificada para subsistemas complexos",
      "mapping": {
        "facade": "src/services/analytics/analyticsFacade.ts (abstrai Vercel Analytics + Sentry)",
        "benefit": "Componentes n√£o precisam conhecer detalhes de implementa√ß√£o",
        "current_code": "Logger pode ser expandido para facade de monitoramento"
      }
    },
    "strategy_pattern": {
      "description": "Algoritmos intercambi√°veis (valida√ß√£o, formata√ß√£o, anima√ß√£o)",
      "mapping": {
        "validation": "Zod schemas como estrat√©gias de valida√ß√£o",
        "animation": "GSAP vs Framer Motion como estrat√©gias intercambi√°veis",
        "current_code": "Valida√ß√£o em useContactForm pode usar Zod strategies"
      }
    },
    "custom_hooks_pattern": {
      "description": "L√≥gica reutiliz√°vel encapsulada em hooks",
      "mapping": {
        "current": "useContactForm, useGSAPAnimation, usePreloader",
        "improvement": "Padronizar retorno de hooks, adicionar error boundaries"
      }
    }
  },
  "refactor_plan": {
    "sprint_0": {
      "name": "Setup e Configura√ß√£o Base",
      "duration": "3-5 dias",
      "tasks": [
        {
          "id": "S0-T1",
          "name": "Configurar Zustand e React Query",
          "complexity": "baixa",
          "description": "Instalar depend√™ncias e configurar stores b√°sicos",
          "acceptance_criteria": [
            "Zustand instalado e configurado",
            "React Query Provider configurado no AppProviders",
            "Store de tema migrado para Zustand",
            "Testes passando"
          ]
        },
        {
          "id": "S0-T2",
          "name": "Configurar React Hook Form + Zod",
          "complexity": "baixa",
          "description": "Substituir valida√ß√£o manual por Zod schemas",
          "acceptance_criteria": [
            "React Hook Form instalado",
            "Zod instalado e configurado",
            "Schema de valida√ß√£o criado para ContactForm",
            "Formul√°rio funcionando com nova valida√ß√£o"
          ]
        },
        {
          "id": "S0-T3",
          "name": "Setup de testes E2E com Playwright",
          "complexity": "m√©dia",
          "description": "Configurar Playwright e criar primeiros testes",
          "acceptance_criteria": [
            "Playwright instalado e configurado",
            "Pasta e2e/ criada",
            "Teste b√°sico de navega√ß√£o funcionando",
            "CI configurado para rodar E2E"
          ]
        },
        {
          "id": "S0-T4",
          "name": "Configurar GitHub Actions CI/CD",
          "complexity": "m√©dia",
          "description": "Criar workflow de CI/CD b√°sico",
          "acceptance_criteria": [
            ".github/workflows/ci.yml criado",
            "Pipeline: lint ‚Üí test ‚Üí build",
            "Deploy autom√°tico em push para main",
            "Preview deployments em PRs"
          ]
        }
      ]
    },
    "sprint_1": {
      "name": "Refatora√ß√£o de Componentes e Estado",
      "duration": "5-7 dias",
      "tasks": [
        {
          "id": "S1-T1",
          "name": "Migrar para Atomic Design",
          "complexity": "alta",
          "description": "Reorganizar componentes seguindo Atomic Design",
          "acceptance_criteria": [
            "Pasta atoms/ criada com Button, Input, Icon",
            "Pasta molecules/ criada com FormField, Card",
            "Componentes existentes refatorados",
            "Imports atualizados em toda aplica√ß√£o",
            "Testes atualizados e passando"
          ]
        },
        {
          "id": "S1-T2",
          "name": "Migrar estado global para Zustand",
          "complexity": "m√©dia",
          "description": "Substituir Context API por Zustand onde apropriado",
          "acceptance_criteria": [
            "Store de tema migrado",
            "Store de se√ß√µes migrado",
            "Performance melhorada (menos re-renders)",
            "Testes atualizados"
          ]
        },
        {
          "id": "S1-T3",
          "name": "Refatorar ContactForm com React Hook Form",
          "complexity": "m√©dia",
          "description": "Migrar formul√°rio para React Hook Form + Zod",
          "acceptance_criteria": [
            "Formul√°rio usando React Hook Form",
            "Valida√ß√£o com Zod schemas",
            "Performance melhorada",
            "Testes unit√°rios e E2E passando"
          ]
        },
        {
          "id": "S1-T4",
          "name": "Implementar Repository Pattern para dados",
          "complexity": "baixa",
          "description": "Criar repositories para abstrair acesso a dados",
          "acceptance_criteria": [
            "projectsRepository criado",
            "contactRepository criado",
            "Componentes usando repositories",
            "Facilita migra√ß√£o futura para API"
          ]
        }
      ]
    },
    "sprint_2": {
      "name": "Performance e Otimiza√ß√µes",
      "duration": "4-6 dias",
      "tasks": [
        {
          "id": "S2-T1",
          "name": "Otimizar imagens (WebP, lazy loading avan√ßado)",
          "complexity": "m√©dia",
          "description": "Converter imagens para WebP e implementar lazy loading inteligente",
          "acceptance_criteria": [
            "Todas imagens convertidas para WebP",
            "Fallback para navegadores antigos",
            "Lazy loading com Intersection Observer",
            "Redu√ß√£o de 40%+ no tamanho de imagens"
          ]
        },
        {
          "id": "S2-T2",
          "name": "Implementar code splitting avan√ßado",
          "complexity": "m√©dia",
          "description": "Otimizar bundle splitting e preload de rotas cr√≠ticas",
          "acceptance_criteria": [
            "Bundle analisado e otimizado",
            "Chunks menores que 200KB",
            "Preload de rotas cr√≠ticas",
            "Lighthouse Performance score > 90"
          ]
        },
        {
          "id": "S2-T3",
          "name": "Implementar PWA",
          "complexity": "m√©dia",
          "description": "Adicionar service worker e manifest.json",
          "acceptance_criteria": [
            "manifest.json configurado",
            "Service worker funcionando",
            "Offline support b√°sico",
            "Installable como app",
            "Lighthouse PWA score > 90"
          ]
        },
        {
          "id": "S2-T4",
          "name": "Otimizar anima√ß√µes GSAP",
          "complexity": "baixa",
          "description": "Reduzir uso de anima√ß√µes pesadas e usar will-change",
          "acceptance_criteria": [
            "Anima√ß√µes usando GPU",
            "will-change aplicado onde necess√°rio",
            "Performance de anima√ß√µes melhorada",
            "Sem jank em dispositivos m√≥veis"
          ]
        }
      ]
    },
    "sprint_3": {
      "name": "Acessibilidade e SEO",
      "duration": "4-5 dias",
      "tasks": [
        {
          "id": "S3-T1",
          "name": "Melhorar acessibilidade (WCAG 2.1 AA)",
          "complexity": "alta",
          "description": "Adicionar ARIA labels, navega√ß√£o por teclado, contraste",
          "acceptance_criteria": [
            "Todos componentes com ARIA labels",
            "Navega√ß√£o completa por teclado",
            "Contraste m√≠nimo 4.5:1",
            "Screen reader testado",
            "Lighthouse Accessibility score > 95"
          ]
        },
        {
          "id": "S3-T2",
          "name": "Implementar SEO completo",
          "complexity": "m√©dia",
          "description": "Meta tags din√¢micas, sitemap, structured data",
          "acceptance_criteria": [
            "react-helmet-async instalado",
            "Meta tags din√¢micas por p√°gina",
            "sitemap.xml gerado",
            "robots.txt configurado",
            "Structured data (JSON-LD) implementado",
            "Lighthouse SEO score > 95"
          ]
        },
        {
          "id": "S3-T3",
          "name": "Adicionar analytics e error tracking",
          "complexity": "baixa",
          "description": "Configurar Vercel Analytics e Sentry",
          "acceptance_criteria": [
            "Vercel Analytics configurado",
            "Sentry configurado",
            "Error boundaries melhorados",
            "M√©tricas sendo coletadas"
          ]
        }
      ]
    },
    "sprint_4": {
      "name": "Backend e Integra√ß√µes",
      "duration": "3-5 dias",
      "tasks": [
        {
          "id": "S4-T1",
          "name": "Implementar API serverless para formul√°rio",
          "complexity": "m√©dia",
          "description": "Criar fun√ß√£o serverless para envio de email",
          "acceptance_criteria": [
            "API route criada (Vercel/Netlify)",
            "Integra√ß√£o com servi√ßo de email (Resend/SendGrid)",
            "Valida√ß√£o no backend",
            "Rate limiting implementado",
            "Testes E2E do fluxo completo"
          ]
        },
        {
          "id": "S4-T2",
          "name": "Configurar monitoramento e alertas",
          "complexity": "baixa",
          "description": "Configurar Sentry alerts e Vercel Analytics",
          "acceptance_criteria": [
            "Alertas configurados para erros cr√≠ticos",
            "Dashboard de m√©tricas acess√≠vel",
            "Uptime monitoring configurado"
          ]
        }
      ]
    },
    "sprint_5": {
      "name": "Testes e Qualidade",
      "duration": "5-7 dias",
      "tasks": [
        {
          "id": "S5-T1",
          "name": "Aumentar cobertura de testes unit√°rios",
          "complexity": "alta",
          "description": "Atingir 80%+ de cobertura",
          "acceptance_criteria": [
            "Cobertura > 80%",
            "Todos componentes cr√≠ticos testados",
            "Hooks testados",
            "Services testados",
            "CI bloqueando se cobertura < 80%"
          ]
        },
        {
          "id": "S5-T2",
          "name": "Criar suite completa de testes E2E",
          "complexity": "alta",
          "description": "Testes E2E para fluxos cr√≠ticos",
          "acceptance_criteria": [
            "Teste de navega√ß√£o entre se√ß√µes",
            "Teste de formul√°rio de contato",
            "Teste de filtros de portf√≥lio",
            "Teste de tema escuro/claro",
            "Teste de responsividade",
            "CI rodando E2E em PRs"
          ]
        },
        {
          "id": "S5-T3",
          "name": "Configurar lint-staged e husky",
          "complexity": "baixa",
          "description": "Pre-commit hooks para qualidade",
          "acceptance_criteria": [
            "husky instalado",
            "lint-staged configurado",
            "Pre-commit: lint + format + test",
            "Commits bloqueados se testes falharem"
          ]
        }
      ]
    },
    "migration_strategy": {
      "approach": "Incremental com feature flags",
      "steps": [
        "1. Criar branch feature/modernization",
        "2. Implementar mudan√ßas em pequenos PRs",
        "3. Usar feature flags para testar em produ√ß√£o",
        "4. Deploy gradual: 10% ‚Üí 50% ‚Üí 100% de tr√°fego",
        "5. Rollback r√°pido se necess√°rio",
        "6. Monitorar m√©tricas durante migra√ß√£o"
      ],
      "downtime": "Zero: deploy incremental com Vercel previews"
    }
  },
  "code_examples": {
    "component_atomic": "// src/components/atoms/Button/Button.tsx\nimport { ButtonHTMLAttributes, forwardRef } from 'react';\nimport { cn } from '@/utils/cn';\n\nexport interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'primary' | 'secondary' | 'ghost';\n  size?: 'sm' | 'md' | 'lg';\n  isLoading?: boolean;\n}\n\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant = 'primary', size = 'md', isLoading, children, disabled, ...props }, ref) => {\n    return (\n      <button\n        ref={ref}\n        className={cn(\n          'inline-flex items-center justify-center rounded-lg font-medium transition-colors',\n          'focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2',\n          'disabled:opacity-50 disabled:pointer-events-none',\n          {\n            'bg-primary text-white hover:bg-primary-dark': variant === 'primary',\n            'bg-secondary text-white hover:bg-secondary-dark': variant === 'secondary',\n            'bg-transparent hover:bg-card-bg': variant === 'ghost',\n            'px-3 py-1.5 text-sm': size === 'sm',\n            'px-4 py-2 text-base': size === 'md',\n            'px-6 py-3 text-lg': size === 'lg',\n          },\n          className\n        )}\n        disabled={disabled || isLoading}\n        aria-busy={isLoading}\n        {...props}\n      >\n        {isLoading ? (\n          <span className=\"mr-2 animate-spin\" aria-hidden=\"true\">‚è≥</span>\n        ) : null}\n        {children}\n      </button>\n    );\n  }\n);\n\nButton.displayName = 'Button';\n\n// src/components/atoms/Button/Button.test.tsx\nimport { render, screen } from '@testing-library/react';\nimport { Button } from './Button';\n\ndescribe('Button', () => {\n  it('renders correctly', () => {\n    render(<Button>Click me</Button>);\n    expect(screen.getByRole('button', { name: /click me/i })).toBeInTheDocument();\n  });\n\n  it('handles loading state', () => {\n    render(<Button isLoading>Submit</Button>);\n    const button = screen.getByRole('button');\n    expect(button).toHaveAttribute('aria-busy', 'true');\n    expect(button).toBeDisabled();\n  });\n\n  it('applies variant classes', () => {\n    const { rerender } = render(<Button variant=\"secondary\">Test</Button>);\n    expect(screen.getByRole('button')).toHaveClass('bg-secondary');\n  });\n});",
    "service_api": "// src/services/contact/contactService.ts\nimport { z } from 'zod';\nimport { contactRepository } from './contactRepository';\nimport logger from '@/utils/logger';\n\nconst ContactFormSchema = z.object({\n  name: z.string().min(3, 'Nome deve ter pelo menos 3 caracteres'),\n  email: z.string().email('Email inv√°lido'),\n  subject: z.string().min(1, 'Assunto √© obrigat√≥rio'),\n  message: z.string().min(20, 'Mensagem deve ter pelo menos 20 caracteres'),\n});\n\nexport type ContactFormData = z.infer<typeof ContactFormSchema>;\n\nexport class ContactService {\n  static async submitForm(data: ContactFormData): Promise<{ success: boolean; message: string }> {\n    try {\n      // Validar dados\n      const validatedData = ContactFormSchema.parse(data);\n      \n      // Enviar para API\n      const result = await contactRepository.submit(validatedData);\n      \n      logger.info('Contact form submitted successfully', { email: validatedData.email });\n      \n      return {\n        success: true,\n        message: 'Mensagem enviada com sucesso! Responderei em breve.',\n      };\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        logger.warn('Contact form validation failed', { errors: error.errors });\n        return {\n          success: false,\n          message: error.errors[0].message,\n        };\n      }\n      \n      logger.error('Contact form submission failed', { error });\n      return {\n        success: false,\n        message: 'Erro ao enviar mensagem. Tente novamente mais tarde.',\n      };\n    }\n  }\n}\n\n// src/services/contact/contactRepository.ts\nconst API_BASE_URL = import.meta.env.VITE_API_URL || '/api';\n\nexport const contactRepository = {\n  async submit(data: ContactFormData) {\n    const response = await fetch(`${API_BASE_URL}/contact`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(data),\n    });\n    \n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    \n    return response.json();\n  },\n};",
    "test_unit": "// src/services/contact/contactService.test.ts\nimport { describe, it, expect, vi } from 'vitest';\nimport { ContactService } from './contactService';\nimport { contactRepository } from './contactRepository';\n\nvi.mock('./contactRepository');\n\ndescribe('ContactService', () => {\n  it('should submit form with valid data', async () => {\n    const mockData = {\n      name: 'John Doe',\n      email: 'john@example.com',\n      subject: 'Test Subject',\n      message: 'This is a test message with enough characters.',\n    };\n    \n    vi.mocked(contactRepository.submit).mockResolvedValue({ success: true });\n    \n    const result = await ContactService.submitForm(mockData);\n    \n    expect(result.success).toBe(true);\n    expect(contactRepository.submit).toHaveBeenCalledWith(mockData);\n  });\n\n  it('should reject invalid email', async () => {\n    const invalidData = {\n      name: 'John Doe',\n      email: 'invalid-email',\n      subject: 'Test',\n      message: 'This is a test message.',\n    };\n    \n    const result = await ContactService.submitForm(invalidData);\n    \n    expect(result.success).toBe(false);\n    expect(result.message).toContain('Email inv√°lido');\n  });\n\n  it('should handle API errors gracefully', async () => {\n    vi.mocked(contactRepository.submit).mockRejectedValue(new Error('API Error'));\n    \n    const result = await ContactService.submitForm({\n      name: 'John',\n      email: 'john@example.com',\n      subject: 'Test',\n      message: 'Valid message with enough characters.',\n    });\n    \n    expect(result.success).toBe(false);\n    expect(result.message).toContain('Erro ao enviar');\n  });\n});",
    "test_e2e": "// e2e/contact.spec.ts\nimport { test, expect } from '@playwright/test';\n\ntest.describe('Contact Form', () => {\n  test.beforeEach(async ({ page }) => {\n    await page.goto('/');\n    await page.click('a[href=\"#contact\"]');\n    await page.waitForSelector('[data-testid=\"contact-form\"]');\n  });\n\n  test('should submit form successfully', async ({ page }) => {\n    await page.fill('[name=\"name\"]', 'John Doe');\n    await page.fill('[name=\"email\"]', 'john@example.com');\n    await page.fill('[name=\"subject\"]', 'Test Subject');\n    await page.fill('[name=\"message\"]', 'This is a test message with enough characters to pass validation.');\n    \n    await page.click('button[type=\"submit\"]');\n    \n    await expect(page.locator('[data-testid=\"success-message\"]')).toBeVisible({ timeout: 5000 });\n    expect(await page.locator('[name=\"name\"]').inputValue()).toBe('');\n  });\n\n  test('should show validation errors', async ({ page }) => {\n    await page.fill('[name=\"email\"]', 'invalid-email');\n    await page.blur('[name=\"email\"]');\n    \n    await expect(page.locator('[data-testid=\"email-error\"]')).toBeVisible();\n    expect(await page.locator('[data-testid=\"email-error\"]').textContent()).toContain('Email inv√°lido');\n  });\n\n  test('should be keyboard accessible', async ({ page }) => {\n    await page.keyboard.press('Tab');\n    await expect(page.locator('[name=\"name\"]')).toBeFocused();\n    \n    await page.keyboard.press('Tab');\n    await expect(page.locator('[name=\"email\"]')).toBeFocused();\n  });\n});"
  },
  "ci_cd": {
    "description": "Pipeline completo de CI/CD com GitHub Actions",
    "workflow_file": ".github/workflows/ci.yml",
    "stages": [
      {
        "name": "Lint",
        "command": "npm run lint",
        "on_failure": "Bloquear merge"
      },
      {
        "name": "Format Check",
        "command": "npm run format:check",
        "on_failure": "Warning apenas"
      },
      {
        "name": "Type Check",
        "command": "tsc --noEmit",
        "on_failure": "Bloquear merge"
      },
      {
        "name": "Unit Tests",
        "command": "npm run test:coverage",
        "on_failure": "Bloquear merge",
        "coverage_threshold": "80%"
      },
      {
        "name": "E2E Tests",
        "command": "npm run test:e2e",
        "on_failure": "Bloquear merge",
        "run_on": "Pull requests apenas"
      },
      {
        "name": "Build",
        "command": "npm run build",
        "on_failure": "Bloquear merge"
      },
      {
        "name": "Deploy Preview",
        "command": "Vercel CLI deploy",
        "on": "Pull requests",
        "creates": "Preview URL"
      },
      {
        "name": "Deploy Production",
        "command": "Vercel CLI deploy --prod",
        "on": "Push to main",
        "requires": "Approval manual ou auto ap√≥s testes"
      }
    ],
    "scripts_recommended": {
      "test:e2e": "playwright test",
      "test:e2e:ui": "playwright test --ui",
      "test:coverage": "vitest --coverage",
      "lint:fix": "eslint . --ext ts,tsx --fix",
      "format": "prettier --write \"src/**/*.{ts,tsx,js,jsx,json,css,md}\"",
      "type-check": "tsc --noEmit",
      "prepare": "husky install"
    }
  },
  "qa_checklist": {
    "linting": {
      "tool": "ESLint 8.57.0+",
      "config": "TypeScript ESLint recommended + React hooks",
      "rules": "Max warnings: 0 em CI",
      "auto_fix": "Pre-commit hook"
    },
    "formatting": {
      "tool": "Prettier 3.6.0+",
      "config": ".prettierrc com regras padronizadas",
      "check": "Pre-commit hook",
      "auto_format": "VS Code format on save"
    },
    "type_safety": {
      "tool": "TypeScript 5.2.0+",
      "strict_mode": "true",
      "no_any": "Permitido apenas com @ts-expect-error e coment√°rio",
      "type_check": "tsc --noEmit em CI"
    },
    "testing": {
      "unit": "Vitest 1.0.0+",
      "e2e": "Playwright 1.40.0+",
      "coverage_minimum": "80%",
      "critical_paths": [
        "Formul√°rio de contato",
        "Navega√ß√£o entre se√ß√µes",
        "Filtros de portf√≥lio",
        "Tema escuro/claro"
      ]
    },
    "performance": {
      "lighthouse_score": "> 90 em todas m√©tricas",
      "bundle_size": "< 200KB inicial (gzipped)",
      "first_contentful_paint": "< 1.5s",
      "largest_contentful_paint": "< 2.5s",
      "cumulative_layout_shift": "< 0.1",
      "time_to_interactive": "< 3.5s"
    },
    "accessibility": {
      "wcag_level": "AA (2.1)",
      "lighthouse_score": "> 95",
      "keyboard_navigation": "100% funcional",
      "screen_reader": "Testado com NVDA/JAWS",
      "color_contrast": "M√≠nimo 4.5:1",
      "aria_labels": "Todos componentes interativos"
    },
    "seo": {
      "lighthouse_score": "> 95",
      "meta_tags": "Din√¢micas por p√°gina",
      "sitemap": "sitemap.xml gerado",
      "robots_txt": "Configurado",
      "structured_data": "JSON-LD implementado",
      "open_graph": "Tags para redes sociais",
      "canonical_urls": "Configuradas"
    },
    "pwa": {
      "manifest": "manifest.json completo",
      "service_worker": "Implementado",
      "offline_support": "B√°sico funcionando",
      "installable": "Score > 90",
      "icons": "Todos tamanhos (192x192, 512x512)"
    },
    "security": {
      "dependencies": "Audit regular (npm audit)",
      "env_vars": "Nunca commitadas",
      "csp": "Content Security Policy configurado",
      "https": "Obrigat√≥rio em produ√ß√£o"
    }
  },
  "risks": [
    {
      "risk": "Quebra de funcionalidades durante migra√ß√£o",
      "probability": "m√©dia",
      "impact": "alto",
      "mitigation": "Testes E2E completos, feature flags, deploy gradual, rollback plan"
    },
    {
      "risk": "Aumento de complexidade com novas libs",
      "probability": "baixa",
      "impact": "m√©dio",
      "mitigation": "Escolher libs simples (Zustand vs Redux), documenta√ß√£o clara, code reviews"
    },
    {
      "risk": "Performance piorar com novas abstra√ß√µes",
      "probability": "baixa",
      "impact": "m√©dio",
      "mitigation": "Benchmarks antes/depois, profiling cont√≠nuo, otimiza√ß√µes incrementais"
    },
    {
      "risk": "Depend√™ncias desatualizadas ou vulner√°veis",
      "probability": "m√©dia",
      "impact": "m√©dio",
      "mitigation": "Dependabot configurado, atualiza√ß√µes regulares, audit em CI"
    },
    {
      "risk": "Falta de conhecimento da equipe em novas tecnologias",
      "probability": "m√©dia",
      "impact": "alto",
      "mitigation": "Documenta√ß√£o detalhada, pair programming, treinamentos, escolher techs com curva suave"
    },
    {
      "risk": "Custo de hosting aumentar",
      "probability": "baixa",
      "impact": "baixo",
      "mitigation": "Usar tier free (Vercel/Netlify), monitorar uso, otimizar recursos"
    }
  ],
  "trade_offs": [
    {
      "decision": "Zustand vs Redux vs Context API",
      "chosen": "Zustand",
      "pros": ["Mais simples", "menos boilerplate", "melhor performance", "TypeScript first"],
      "cons": ["Menos features avan√ßadas", "ecossistema menor"],
      "rationale": "Portf√≥lio n√£o precisa de Redux. Zustand √© suficiente e mais simples."
    },
    {
      "decision": "React Hook Form vs Formik",
      "chosen": "React Hook Form",
      "pros": ["Melhor performance", "menos re-renders", "API mais simples"],
      "cons": ["Menos features out-of-box"],
      "rationale": "Performance √© cr√≠tica. React Hook Form √© mais leve."
    },
    {
      "decision": "Playwright vs Cypress",
      "chosen": "Playwright",
      "pros": ["Mais r√°pido", "suporta m√∫ltiplos browsers", "melhor para CI"],
      "cons": ["Menos popular", "curva de aprendizado"],
      "rationale": "Playwright √© mais moderno e perform√°tico para CI/CD."
    },
    {
      "decision": "Vercel vs Netlify",
      "chosen": "Vercel",
      "pros": ["Melhor para React", "deploy mais r√°pido", "analytics integrado"],
      "cons": ["Vendor lock-in"],
      "rationale": "Vercel √© otimizado para React e oferece melhor DX."
    }
  ],
  "pr_templates": {
    "description": "Template para Pull Requests seguindo Conventional Commits",
    "template": "## Descri√ß√£o\n\n[Descri√ß√£o clara do que foi implementado]\n\n## Tipo de Mudan√ßa\n\n- [ ] üêõ Bug fix\n- [ ] ‚ú® Nova feature\n- [ ] ‚ôªÔ∏è Refatora√ß√£o\n- [ ] üìù Documenta√ß√£o\n- [ ] ‚ö° Performance\n- [ ] ‚ôø Acessibilidade\n\n## Checklist\n\n- [ ] C√≥digo segue padr√µes do projeto\n- [ ] Testes unit√°rios adicionados/atualizados\n- [ ] Testes E2E adicionados/atualizados (se aplic√°vel)\n- [ ] Documenta√ß√£o atualizada\n- [ ] Lint passando\n- [ ] Type check passando\n- [ ] Build passando\n- [ ] Screenshots (se UI mudou)\n\n## Testes\n\n[Como testar as mudan√ßas]\n\n## Screenshots (se aplic√°vel)\n\n[Adicionar screenshots]\n\n## Relacionado\n\n[Issues relacionadas: #123]",
    "commit_message_format": "Conventional Commits: type(scope): description\n\nExemplos:\n- feat(contact): add form validation with Zod\n- fix(portfolio): correct image lazy loading\n- refactor(components): migrate to atomic design\n- perf(images): convert to WebP format\n- test(contact): add E2E tests for form submission"
  },
  "assumptions": [
    "assumption_1": "Projeto √© SPA (Single Page Application) e n√£o precisa de SSR inicialmente",
    "assumption_2": "Formul√°rio de contato ser√° integrado com servi√ßo de email (Resend/SendGrid) via API serverless",
    "assumption_3": "Dados do portf√≥lio continuar√£o sendo est√°ticos (JSON files) por enquanto",
    "assumption_4": "Equipe tem conhecimento b√°sico de React e TypeScript",
    "assumption_5": "Or√ßamento permite uso de servi√ßos gratuitos (Vercel free tier, Sentry free tier)",
    "assumption_6": "N√£o h√° necessidade de autentica√ß√£o de usu√°rios no momento",
    "assumption_7": "Portf√≥lio ser√° atualizado esporadicamente (n√£o precisa de CMS imediatamente)",
    "assumption_8": "Suporte a navegadores modernos (√∫ltimas 2 vers√µes de Chrome, Firefox, Safari, Edge)"
  ],
  "deliverables": {
    "prs_review_path": [
      "PR #1: Setup base (Sprint 0)",
      "PR #2: Atomic Design migration (Sprint 1)",
      "PR #3: State management migration (Sprint 1)",
      "PR #4: Performance optimizations (Sprint 2)",
      "PR #5: Accessibility improvements (Sprint 3)",
      "PR #6: SEO implementation (Sprint 3)",
      "PR #7: Backend integration (Sprint 4)",
      "PR #8: Test coverage increase (Sprint 5)"
    ],
    "issues_templates": [
      {
        "title": "Implementar [Feature Name]",
        "description": "## Descri√ß√£o\n\n[Descri√ß√£o detalhada]\n\n## Crit√©rios de Aceita√ß√£o\n\n- [ ] Crit√©rio 1\n- [ ] Crit√©rio 2\n\n## Estimativa\n\n[Baixa/M√©dia/Alta]\n\n## Labels\n\n[feature, enhancement]"
      }
    ],
    "documentation": [
      "README.md atualizado",
      "ARCHITECTURE.md (documenta√ß√£o de arquitetura)",
      "CONTRIBUTING.md (guia de contribui√ß√£o)",
      "DEPLOYMENT.md (guia de deploy)",
      "TESTING.md (guia de testes)"
    ]
  },
  "version_requirements": {
    "node": ">=18.0.0 (recomendado: 20.x LTS)",
    "npm": ">=9.0.0",
    "react": "^19.1.0",
    "typescript": "^5.2.0",
    "vite": "^5.4.0",
    "zustand": "^4.5.0",
    "react-query": "^5.0.0",
    "react-hook-form": "^7.51.0",
    "zod": "^3.23.0",
    "playwright": "^1.40.0",
    "vitest": "^1.0.0"
  }
}

